@startuml
title task_struct context diagram
left to right direction
class "task_group" as C_0007613064838255348613
class C_0007613064838255348613 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/kernel/sched/sched.h#L393{Task group related information}]] {
__
}
class "rq" as C_0003618054735090668884
class C_0003618054735090668884 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/kernel/sched/sched.h#L1004{This is the main, per-CPU runqueue data structure.  Locking rule: those places that want to lock multiple runqueues  (such as the load balancing or the thread migration code), lock  acquire operations must be ordered by ascending &runqueue.}]] {
__
}
class "class_task_rq_lock_t" as C_0017938875088097095711
class C_0017938875088097095711 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/kernel/sched/sched.h#L1678{class_task_rq_lock_t}]] {
__
}
class "sched_class" as C_0008108587222324152663
class C_0008108587222324152663 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/kernel/sched/sched.h#L2263{sched_class}]] {
__
}
class "migration_arg" as C_0001389877957080688678
class C_0001389877957080688678 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/kernel/sched/core.c#L2538{migration_arg}]] {
__
}
class "migration_swap_arg" as C_0001044142737823519364
class C_0001044142737823519364 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/kernel/sched/core.c#L3434{migration_swap_arg}]] {
__
}
class "css_set" as C_0000025666012895807754
class C_0000025666012895807754 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/psi.h#L13{css_set}]] {
__
}
class "io_context" as C_0000251650125316181199
class C_0000251650125316181199 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/blk_types.h#L19{io_context}]] {
__
}
class "hlist_head" as C_0000473621005336597801
class C_0000473621005336597801 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/net/netns/ipv4.h#L18{hlist_head}]] {
__
}
class "audit_context" as C_0000519916110370609042
class C_0000519916110370609042 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L51{task_struct member predeclarations (sorted alphabetically):}]] {
__
}
class "vm_struct" as C_0001275910505254902722
class C_0001275910505254902722 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L1490{vm_struct}]] {
__
}
class "pipe_inode_info" as C_0002075560333236617094
class C_0002075560333236617094 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L67{pipe_inode_info}]] {
__
}
class "mm_struct" as C_0003044054845010947696
class C_0003044054845010947696 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/arch/x86/include/asm/pgtable_64.h#L54{mm_struct}]] {
__
}
class "user_event_mm" as C_0004131518307153119585
class C_0004131518307153119585 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L81{user_event_mm}]] {
__
}
class "thread_union" as C_0005389987005889700708
class C_0005389987005889700708 <<union>> [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched/task.h#L17{thread_union}]] {
__
}
class "pid" as C_0005875554992779832895
class C_0005875554992779832895 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/socket.h#L14{pid}]] {
__
}
class "kernel_siginfo" as C_0006086545367963229901
class C_0006086545367963229901 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/posix-timers.h#L12{kernel_siginfo}]] {
__
}
class "files_struct" as C_0006104809024250158136
class C_0006104809024250158136 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L1109{files_struct}]] {
__
}
class "cred" as C_0006239538683540347083
class C_0006239538683540347083 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/fs.h#L67{cred}]] {
__
}
class "fs_struct" as C_0006593947261593791200
class C_0006593947261593791200 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L58{fs_struct}]] {
__
}
class "rseq" as C_0006712520032747435156
class C_0006712520032747435156 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/syscalls.h#L67{rseq}]] {
__
}
class "perf_event" as C_0006873017237059855358
class C_0006873017237059855358 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/trace_events.h#L880{perf_event}]] {
__
}
class "address_space" as C_0006886364887454126250
class C_0006886364887454126250 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/asm-generic/cacheflush.h#L10{address_space}]] {
__
}
class "robust_list_head" as C_0007770476683924482543
class C_0007770476683924482543 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L70{robust_list_head}]] {
__
}
class "capture_control" as C_0007945663916975397098
class C_0007945663916975397098 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L56{capture_control}]] {
__
}
class "pid_namespace" as C_0008179746842907964526
class C_0008179746842907964526 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched/debug.h#L10{pid_namespace}]] {
__
}
class "mempolicy" as C_0008471132599086809409
class C_0008471132599086809409 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L62{mempolicy}]] {
__
}
class "rcu_node" as C_0009357984144953706681
class C_0009357984144953706681 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L68{rcu_node}]] {
__
}
class "futex_pi_state" as C_0009648819528253255923
class C_0009648819528253255923 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L59{futex_pi_state}]] {
__
}
class "gendisk" as C_0009677865672349517618
class C_0009677865672349517618 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/blk-cgroup.h#L21{gendisk}]] {
__
}
class "mutex" as C_0010281529660713432261
class C_0010281529660713432261 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/refcount.h#L102{mutex}]] {
__
}
class "mem_cgroup" as C_0010600083233948966285
class C_0010600083233948966285 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/bpf.h#L51{mem_cgroup}]] {
__
}
class "signal_struct" as C_0011371155753808107421
class C_0011371155753808107421 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched/autogroup.h#L5{signal_struct}]] {
__
}
class "rt_mutex_waiter" as C_0012196488947369850599
class C_0012196488947369850599 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L1160{rt_mutex_waiter}]] {
__
}
class "numa_group" as C_0012583262906078836127
class C_0012583262906078836127 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L1293{numa_group}]] {
__
}
class "cpumask" as C_0012699191346127703564
class C_0012699191346127703564 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/net/netns/core.h#L9{cpumask}]] {
__
}
class "nameidata" as C_0012874750540499846191
class C_0012874750540499846191 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L63{nameidata}]] {
__
}
class "pglist_data" as C_0013572612758858979330
class C_0013572612758858979330 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/memory_hotplug.h#L12{pglist_data}]] {
__
}
class "completion" as C_0015410212743286694657
class C_0015410212743286694657 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sysctl.h#L33{For the /proc/sys support}]] {
__
}
class "task_struct" as C_0015917873333235073396
class C_0015917873333235073396 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/swait.h#L41{Simple waitqueues are semantically very different to regular wait queues  (wait.h). The most important difference is that the simple waitqueue allows  for deterministic behaviour -- IOW it has strictly bounded IRQ and lock hold  times.  Mainly, this is ...}]] {
__
}
class "bpf_local_storage" as C_0016068422836868981676
class C_0016068422836868981676 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L54{bpf_local_storage}]] {
__
}
class "key" as C_0016490910142478989815
class C_0016490910142478989815 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/bpf.h#L3391{key}]] {
__
}
class "task_numa_env" as C_0010839124223882334024
class C_0010839124223882334024 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/kernel/sched/fair.c#L1967{task_numa_env}]] {
__
}
class "task_delay_info" as C_0003707077914372968363
class C_0003707077914372968363 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L78{task_delay_info}]] {
__
}
class "blk_plug" as C_0008017550883018855873
class C_0008017550883018855873 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L53{blk_plug}]] {
__
}
class "reclaim_state" as C_0012144232513915660824
class C_0012144232513915660824 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L69{reclaim_state}]] {
__
}
class "io_uring_task" as C_0015454647788953301705
class C_0015454647788953301705 [[https://github.com/torvalds/linux/blob/0c3836482481200ead7b416ca80c68a29cfdaabd/include/linux/sched.h#L61{io_uring_task}]] {
__
}
C_0007613064838255348613 --> C_0007613064838255348613 : +parent
C_0003618054735090668884 --> C_0015917873333235073396 : +curr
C_0003618054735090668884 --> C_0015917873333235073396 : +idle
C_0003618054735090668884 --> C_0015917873333235073396 : +stop
C_0003618054735090668884 --> C_0003044054845010947696 : +prev_mm
C_0003618054735090668884 --> C_0003618054735090668884 : +core
C_0003618054735090668884 --> C_0015917873333235073396 : +core_pick
C_0003618054735090668884 --> C_0012699191346127703564 : +scratch_mask
C_0017938875088097095711 --> C_0015917873333235073396 : +lock
C_0017938875088097095711 --> C_0003618054735090668884 : +rq
C_0001389877957080688678 --> C_0015917873333235073396 : +task
C_0001044142737823519364 --> C_0015917873333235073396 : +src_task
C_0001044142737823519364 --> C_0015917873333235073396 : +dst_task
C_0000025666012895807754 --> C_0000025666012895807754 : +dom_cset
C_0000025666012895807754 --> C_0000025666012895807754 : +mg_dst_cset
C_0000251650125316181199 o-- C_0000473621005336597801 : +icq_list
C_0005389987005889700708 o-- C_0015917873333235073396 : +task
C_0005875554992779832895 o-- "4" C_0000473621005336597801 : +tasks
C_0005875554992779832895 o-- C_0000473621005336597801 : +inodes
C_0006239538683540347083 --> C_0016490910142478989815 : +session_keyring
C_0006239538683540347083 --> C_0016490910142478989815 : +process_keyring
C_0006239538683540347083 --> C_0016490910142478989815 : +thread_keyring
C_0006239538683540347083 --> C_0016490910142478989815 : +request_key_auth
C_0006873017237059855358 --> C_0006873017237059855358 : +group_leader
C_0006873017237059855358 o-- C_0010281529660713432261 : +child_mutex
C_0006873017237059855358 --> C_0006873017237059855358 : +parent
C_0006873017237059855358 --> C_0015917873333235073396 : +owner
C_0006873017237059855358 o-- C_0010281529660713432261 : +mmap_mutex
C_0006873017237059855358 --> C_0006873017237059855358 : +aux_event
C_0006873017237059855358 --> C_0008179746842907964526 : +ns
C_0008179746842907964526 --> C_0015917873333235073396 : +child_reaper
C_0008179746842907964526 --> C_0008179746842907964526 : +parent
C_0010600083233948966285 o-- C_0010281529660713432261 : +thresholds_lock
C_0010600083233948966285 --> C_0015917873333235073396 : +move_lock_task
C_0011371155753808107421 --> C_0015917873333235073396 : +curr_target
C_0011371155753808107421 o-- C_0000473621005336597801 : +multiprocess
C_0011371155753808107421 --> C_0015917873333235073396 : +group_exec_task
C_0011371155753808107421 --> "4" C_0005875554992779832895 : +pids
C_0011371155753808107421 --> C_0005875554992779832895 : +tty_old_pgrp
C_0011371155753808107421 --> C_0003044054845010947696 : +oom_mm
C_0011371155753808107421 o-- C_0010281529660713432261 : +cred_guard_mutex
C_0013572612758858979330 o-- C_0010281529660713432261 : +kswapd_lock
C_0013572612758858979330 --> C_0015917873333235073396 : +kswapd
C_0013572612758858979330 --> C_0015917873333235073396 : +kcompactd
C_0015917873333235073396 --> C_0015917873333235073396 : +last_wakee
C_0015917873333235073396 --> C_0008108587222324152663 : +sched_class
C_0015917873333235073396 --> C_0007613064838255348613 : +sched_task_group
C_0015917873333235073396 o-- C_0000473621005336597801 : +preempt_notifiers
C_0015917873333235073396 --> C_0012699191346127703564 : +cpus_ptr
C_0015917873333235073396 --> C_0012699191346127703564 : +user_cpus_ptr
C_0015917873333235073396 o-- C_0012699191346127703564 : +cpus_mask
C_0015917873333235073396 --> C_0009357984144953706681 : +rcu_blocked_node
C_0015917873333235073396 --> C_0003044054845010947696 : +mm
C_0015917873333235073396 --> C_0003044054845010947696 : +active_mm
C_0015917873333235073396 --> C_0006886364887454126250 : +faults_disabled_mapping
C_0015917873333235073396 --> C_0015917873333235073396 : +real_parent
C_0015917873333235073396 --> C_0015917873333235073396 : +parent
C_0015917873333235073396 --> C_0015917873333235073396 : +group_leader
C_0015917873333235073396 --> C_0005875554992779832895 : +thread_pid
C_0015917873333235073396 --> C_0015410212743286694657 : +vfork_done
C_0015917873333235073396 --> C_0006239538683540347083 : +ptracer_cred
C_0015917873333235073396 --> C_0006239538683540347083 : +real_cred
C_0015917873333235073396 --> C_0006239538683540347083 : +cred
C_0015917873333235073396 --> C_0016490910142478989815 : +cached_requested_key
C_0015917873333235073396 --> C_0012874750540499846191 : +nameidata
C_0015917873333235073396 --> C_0006593947261593791200 : +fs
C_0015917873333235073396 --> C_0006104809024250158136 : +files
C_0015917873333235073396 --> C_0015454647788953301705 : +io_uring
C_0015917873333235073396 --> C_0011371155753808107421 : +signal
C_0015917873333235073396 --> C_0000519916110370609042 : +audit_context
C_0015917873333235073396 --> C_0015917873333235073396 : +pi_top_task
C_0015917873333235073396 --> C_0012196488947369850599 : +pi_blocked_on
C_0015917873333235073396 --> C_0008017550883018855873 : +plug
C_0015917873333235073396 --> C_0012144232513915660824 : +reclaim_state
C_0015917873333235073396 --> C_0000251650125316181199 : +io_context
C_0015917873333235073396 --> C_0007945663916975397098 : +capture_control
C_0015917873333235073396 --> C_0006086545367963229901 : +last_siginfo
C_0015917873333235073396 --> C_0000025666012895807754 : +cgroups
C_0015917873333235073396 --> C_0007770476683924482543 : +robust_list
C_0015917873333235073396 --> C_0009648819528253255923 : +pi_state_cache
C_0015917873333235073396 o-- C_0010281529660713432261 : +futex_exit_mutex
C_0015917873333235073396 o-- C_0010281529660713432261 : +perf_event_mutex
C_0015917873333235073396 --> C_0008471132599086809409 : +mempolicy
C_0015917873333235073396 --> C_0012583262906078836127 : +numa_group
C_0015917873333235073396 --> C_0006712520032747435156 : +rseq
C_0015917873333235073396 --> C_0002075560333236617094 : +splice_pipe
C_0015917873333235073396 --> C_0003707077914372968363 : +delays
C_0015917873333235073396 --> C_0010600083233948966285 : +memcg_in_oom
C_0015917873333235073396 --> C_0010600083233948966285 : +active_memcg
C_0015917873333235073396 --> C_0009677865672349517618 : +throttle_disk
C_0015917873333235073396 --> C_0015917873333235073396 : +oom_reaper_list
C_0015917873333235073396 --> C_0001275910505254902722 : +stack_vm_area
C_0015917873333235073396 --> C_0016068422836868981676 : +bpf_storage
C_0015917873333235073396 --> C_0004131518307153119585 : +user_event_mm
C_0010839124223882334024 --> C_0015917873333235073396 : +p
C_0010839124223882334024 --> C_0015917873333235073396 : +best_task

'Generated with clang-uml, version 0.5.3-18-ga4180de
'LLVM version Ubuntu clang version 18.1.8 (++20240731024944+3b5b5c1ec4a3-1~exp1~20240731145000.144)
@enduml
